<section data-ng-if="TaskDetail.loading.init" class="text-center">
    <spinner name="bubbles-222-fff-32"></spinner>
    <p data-translate="status_task_detail_loading_task"></p>
</section>

<section data-ng-if="!TaskDetail.loading.init && TaskDetail.task">
    <div class="row bottom-space-m16">
        <div class="col-xs-12">
            <h2 data-ng-bind="::TaskDetail.task.title"></h2>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-8 col-lg-5">
            <h4>
                <span data-ng-bind="('status_tasks_list_type_label_' + TaskDetail.task.type) | translate"></span>
                -
                <span data-ng-bind="TaskDetail.task.project"></span>
            </h4>
        </div>
        <div class="col-xs-4 col-lg-7">
            <dl class="dl-horizontal status-task-dl">
                <dt data-translate="status_task_detail_id_label"></dt>
                <dd data-ng-bind="TaskDetail.task.reference"></dd>
            </dl>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-4">
            <p class="label status-task__label status-task__label_normal"
               data-ng-bind="('status_tasks_list_status_label_' + TaskDetail.task.status) | translate"></p>
            <p class="label status-task__label"
               data-ng-class="{
                'status-task__label_major': TaskDetail.task.impact === 'downtime' || TaskDetail.task.impact === 'fullUnavailability',
                'status-task__label_warning': TaskDetail.task.impact === 'partialUnavailability',
                'status-task__label_minor': TaskDetail.task.impact === 'none' || TaskDetail.task.impact === 'unknown'
            }"
               data-ng-bind="('status_tasks_list_impact_label_' + TaskDetail.task.impact) | translate"></p>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-6 text-left">
            <dl class="dl-horizontal status-task-dl">
                <dt>
                    <span class="glyphicon glyphicon-time"></span>
                    <span data-translate="status_tasks_detail_start"></span>
                </dt>
                <dd data-ng-bind="TaskDetail.task.startDate | date:'medium'"></dd>
                <dt data-ng-if="TaskDetail.task.endDate">
                    <span class="glyphicon glyphicon-time"></span>
                    <span data-translate="status_tasks_detail_end"></span>
                </dt>
                <dd data-ng-if="TaskDetail.task.endDate"
                    data-ng-bind="TaskDetail.task.endDate | date:'medium'"></dd>
            </dl>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-12">
            <p data-ng-bind="TaskDetail.task.details"></p>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-12">
            <h3 data-translate="status_task_detail_impacted_title"></h3>
        </div>
        <div class="col-xs-12">
            <p data-ng-bind="TaskDetail.task.impactedService"></p>
        </div>
    </div>

    <div class="row bottom-space-m16">
        <div class="col-xs-12">
            <h3 data-translate="status_task_detail_reply_title"></h3>
        </div>
        <div class="col-xs-12">
            <div class="row" data-ng-if="TaskDetail.task.replies.length"
                data-ng-repeat="reply in TaskDetail.task.replies">
                <div class="col-xs-12 col-md-8 col-lg-5 status-task-detail-reply">
                    <p data-ng-bind="reply.comment"></p>
                    <small class="text-muted" data-ng-bind="reply.date | date:'medium'"></small>
                </div>
            </div>
            <div class="row" data-ng-if="!TaskDetail.task.replies.length">
                <div class="col-xs-12 col-md-8 col-lg-5 status-task-detail-reply text-center">
                    <p data-translate="status_task_detail_no_reply"></p>
                </div>
            </div>
        </div>
    </div>
</section>
